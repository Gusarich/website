<!DOCTYPE html>
<meta charset="utf-8" />

<script>
    /* Preserve both the legacy ?post=slug query param and any #anchor */
    (function () {
        const params = new URLSearchParams(location.search);
        const slug = params.get('post'); // e.g. fuzzing-with-llms
        const anchor = location.hash || ''; // e.g. #results
        console.log(slug, anchor);

        if (slug) {
            /* 302-style client redirect that keeps the hash */
            location.replace(`/blog/${encodeURIComponent(slug)}/${anchor}`);
        } else {
            location.replace(`/blog/${anchor}`);
        }
    })();
</script>

<!-- JS-disabled fallback (hash isn’t available in meta refresh, so anchors won’t survive) -->
<noscript>
    <meta http-equiv="refresh" content="0; url=/blog/" />
</noscript>
