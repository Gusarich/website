/*
 * Design tokens for gusarich.com.
 * Palette + philosophy are defined in VIBE.md. This file implements them via
 * a small set of base roles and relationship-preserving `color-mix()` ramps.
 */

:root {
    /* VIBE primitives (constants; never overridden) */
    --vibe-bg-light: #F7F6F3;
    --vibe-bg-dark: #1C1917;
    --vibe-text-light: #2A2826;
    --vibe-text-dark: #E5E3E0;
    --vibe-muted-light: #7A756D;
    --vibe-muted-dark: #9A9590;
    --vibe-border-light: #E5E2DC;
    --vibe-border-dark: #3A3632;
    --vibe-neutral-light: #C0BDB8;
    --vibe-neutral-dark: #5A5754;
    --vibe-link-light: #2A5A70;
    --vibe-link-dark: #4A8AAA;

    /* Identity accents (fixed across modes) */
    --rust: #A85A48;
    --deep-sea: #2A5A70;
    --sunflower: #D4A828;

    /* Functional UI (feedback, not identity) */
    --success: #4A8A7A;

    /* Theme aliases (light default) */
    --vibe-bg: var(--vibe-bg-light);
    --vibe-text: var(--vibe-text-light);
    --vibe-muted: var(--vibe-muted-light);
    --vibe-border: var(--vibe-border-light);
    --vibe-neutral: var(--vibe-neutral-light);
    --vibe-link: var(--vibe-link-light);

    /* Neutral surfaces */
    --n-surface-50: var(--vibe-bg);
    --n-surface-100: color-mix(
        in srgb,
        var(--vibe-bg) 94%,
        var(--vibe-neutral) 6%
    );
    --n-border-200: var(--vibe-border);

    /* Text ramp */
    --n-text-900: var(--vibe-text);
    --n-text-body: color-mix(
        in srgb,
        var(--vibe-text) 90%,
        var(--vibe-bg) 10%
    );
    --n-text-800: color-mix(in srgb, var(--vibe-text) 90%, var(--vibe-muted) 10%);
    --n-text-700: color-mix(in srgb, var(--vibe-text) 80%, var(--vibe-muted) 20%);
    --n-text-600: color-mix(in srgb, var(--vibe-text) 68%, var(--vibe-muted) 32%);
    --n-text-400: var(--vibe-muted);
    --n-text-white: var(--vibe-bg-light);

    /* Interactive accent (derived from link color) */
    --accent-050: color-mix(
        in srgb,
        var(--vibe-bg) 90%,
        var(--vibe-neutral) 10%
    );
    --accent-075: color-mix(
        in srgb,
        var(--vibe-bg) 82%,
        var(--vibe-neutral) 18%
    );
    --accent-400: color-mix(in srgb, var(--vibe-link) 65%, var(--n-text-900) 35%);
    --accent-500: var(--vibe-link);
    --accent-600: color-mix(in srgb, var(--accent-500) 85%, var(--n-text-900) 15%);
    --accent-700: color-mix(in srgb, var(--accent-500) 70%, var(--n-text-900) 30%);

    /* Functional UI colors */
    --success-500: color-mix(in srgb, var(--success) 85%, var(--vibe-bg-light) 15%);
    --success-text: var(--vibe-text-light);
    --warning-500: var(--sunflower);
    --warning-text: var(--vibe-text-light);
    --danger-500: var(--rust);
    --danger-text: var(--vibe-bg-light);

    /* Semantic colors */
    --white: #ffffff;
    --black: #000000;

    /* Links */
    --link-color: var(--vibe-link);
    --link-hover: var(--accent-600);
    --link-visited: var(--link-color);

    /* Focus ring */
    --focus-ring: var(--link-color);

    /* Scrollbar */
    --scrollbar-track: var(--n-surface-50);
    --scrollbar-thumb: color-mix(in srgb, var(--n-border-200) 75%, var(--vibe-neutral) 25%);
    --scrollbar-thumb-hover: color-mix(in srgb, var(--scrollbar-thumb) 70%, var(--n-text-600) 30%);

    /* Syntax highlighting */
    --syntax-keyword: var(--link-color);
    --syntax-string: color-mix(in srgb, var(--rust) 80%, var(--n-text-900) 20%);
    --syntax-function: color-mix(in srgb, var(--sunflower) 50%, var(--n-text-900) 50%);
    --syntax-number: var(--n-text-700);
    --syntax-property: var(--n-text-700);
    --syntax-variable: var(--n-text-900);
    --syntax-comment: var(--n-text-400);
    --syntax-background: var(--n-surface-100);

    /* Minimalist Shadow System */
    --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.04),
        0 1px 2px rgba(0, 0, 0, 0.03);
    --shadow-elevated: 0 4px 6px rgba(0, 0, 0, 0.07),
        0 2px 4px rgba(0, 0, 0, 0.04);

    /* Overlays & Scrims */
    --breadcrumb-overlay: color-mix(in srgb, var(--n-surface-50) 95%, transparent);
    --modal-backdrop: rgba(0, 0, 0, 0.5);
    --shadow-modal: 0 25px 80px rgba(0, 0, 0, 0.5),
        0 10px 30px rgba(0, 0, 0, 0.3);
    --reference-hover-bg: color-mix(in srgb, var(--n-text-900) 4%, transparent);

    /* Form control assets */
    --select-arrow-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%237A756D' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
}

/* Dark theme variables - applied when 'dark-mode' class is present
     on either <html> or <body>. */
.dark-mode {
    --vibe-bg: var(--vibe-bg-dark);
    --vibe-text: var(--vibe-text-dark);
    --vibe-muted: var(--vibe-muted-dark);
    --vibe-border: var(--vibe-border-dark);
    --vibe-neutral: var(--vibe-neutral-dark);
    --vibe-link: var(--vibe-link-dark);

    --success-500: color-mix(in srgb, var(--success) 75%, var(--vibe-bg) 25%);
    --success-text: var(--vibe-text-dark);

    --modal-backdrop: rgba(0, 0, 0, 0.7);
    --reference-hover-bg: color-mix(in srgb, var(--n-text-900) 5%, transparent);

    /* Shadows need higher alpha on dark surfaces */
    --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.12),
        0 1px 2px rgba(0, 0, 0, 0.08);
    --shadow-elevated: 0 4px 6px rgba(0, 0, 0, 0.15),
        0 2px 4px rgba(0, 0, 0, 0.1);

    /* Form control assets */
    --select-arrow-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23E5E3E0' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
}

/* Utility classes for quick access */
.text-muted {
    color: var(--n-text-400);
}
.bg-surface {
    background-color: var(--n-surface-50);
}
.bg-elevated {
    background-color: var(--n-surface-100);
}
.border-default {
    border-color: var(--n-border-200);
}
